(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[834],{9556:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/embed/poradny",function(){return t(4883)}])},879:function(e,n,t){"use strict";t.d(n,{pl:function(){return i},Ru:function(){return c},zw:function(){return u},Rr:function(){return l},zm:function(){return s},lA:function(){return f},Qo:function(){return d},Vx:function(){return p},W4:function(){return h}});var r=t(7294);function o(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function a(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,a=[],i=!0,c=!1;try{for(t=t.call(e);!(i=(r=t.next()).done)&&(a.push(r.value),!n||a.length!==n);i=!0);}catch(u){c=!0,o=u}finally{try{i||null==t.return||t.return()}finally{if(c)throw o}}return a}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return o(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return o(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var i=function(e){var n=a(r.useState(null),2),t=n[0],o=n[1];return r.useEffect((function(){fetch(e+"/orp.topo.json").then((function(e){e.ok&&e.json().then((function(e){o(e)}))}))}),[]),t},c=function(e){var n=a(r.useState(null),2),t=n[0],o=n[1];return r.useEffect((function(){fetch(e+"/okresy.topo.json").then((function(e){e.ok&&e.json().then((function(e){o(e)}))}))}),[]),t},u=function(e){var n=a(r.useState(null),2),t=n[0],o=n[1];return r.useEffect((function(){fetch(e+"/kraje.topo.json").then((function(e){e.ok&&e.json().then((function(e){o(e)}))}))}),[]),t},l=function(e){var n=a(r.useState(null),2),t=n[0],o=n[1];return r.useEffect((function(){fetch(e+"/capacities_data.json").then((function(e){e.ok&&e.json().then((function(e){o(e)}))}))}),[]),t},s=function(e){var n=a(r.useState(null),2),t=n[0],o=n[1];return r.useEffect((function(){fetch(e+"/accommodation_data.json").then((function(e){e.ok&&e.json().then((function(e){o(e)}))}))}),[]),t},f=function(e){var n=a(r.useState(null),2),t=n[0],o=n[1];return r.useEffect((function(){fetch(e+"/ukrainian_pupils_data.json").then((function(e){e.ok&&e.json().then((function(e){o(e)}))}))}),[]),t},d=function(e){var n=a(r.useState(null),2),t=n[0],o=n[1];return r.useEffect((function(){fetch(e+"/psychologists_data.json").then((function(e){e.ok&&e.json().then((function(e){o(e)}))}))}),[]),t},p=function(e){var n=a(r.useState(null),2),t=n[0],o=n[1];return r.useEffect((function(){fetch(e+"/children_groups_data.json").then((function(e){e.ok&&e.json().then((function(e){o(e)}))}))}),[]),t},h=function(e){var n=a(r.useState(null),2),t=n[0],o=n[1];return r.useEffect((function(){fetch(e+"/counselling_data.json").then((function(e){e.ok&&e.json().then((function(e){o(e)}))}))}),[]),t}},2069:function(e,n,t){"use strict";t.d(n,{D:function(){return a}});var r=t(7294),o=t(6486);var a=function(e){var n=r.useRef(null),t=r.useCallback((function(){if(n.current){var t=n.current.getBoundingClientRect().height;window.parent&&window.parent.postMessage({"paq-ukrajina-embed-height":(r={},o=e,a=t,o in r?Object.defineProperty(r,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[o]=a,r)},"*")}var r,o,a}),[e]),a=r.useCallback((0,o.debounce)((function(){t(),setTimeout((function(){return t()}),300),setTimeout((function(){return t()}),1e3),setTimeout((function(){return t()}),5e3)}),50),[t]);return r.useEffect((function(){return a(),window.addEventListener("resize",a),function(){window.removeEventListener("resize",a)}}),[a]),{containerRef:n}}},4883:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSG:function(){return C},default:function(){return x}});var r=t(5893),o=t(7294),a=t(9008),i=t(5078),c=t(6486),u=t(3935),l=t(6370),s=t(4519),f=t(4490),d=t.n(f);function p(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function h(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,a=[],i=!0,c=!1;try{for(t=t.call(e);!(i=(r=t.next()).done)&&(a.push(r.value),!n||a.length!==n);i=!0);}catch(u){c=!0,o=u}finally{try{i||null==t.return||t.return()}finally{if(c)throw o}}return a}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return p(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return p(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e){var n=e.fillByKrajId,t=e.krajeData,a=e.renderTooltipContent,i=e.selectedKrajId,u=e.setSelectedKrajId,l=o.useRef(null),s=o.useRef(null),f=h(o.useState(null),2),p=f[0],m=f[1],j=h(o.useState(null),2),y=j[0],b=j[1],g=o.useCallback((function(){if(l.current){var e=l.current.getBoundingClientRect();m(e.width),b(.583*e.width)}}),[m,b]),k=o.useCallback((0,c.debounce)(g,200),[g]);o.useEffect((function(){return window.addEventListener("resize",k),g(),function(){window.removeEventListener("resize",k)}}),[k]),o.useEffect((function(){t&&v({svgDomEl:s.current,containerDomEl:l.current,width:p,height:y,krajeData:t,fillByKrajId:n,selectedKrajId:i,setSelectedKrajId:u,renderTooltipContent:a})}),[p,y,t,n,i,u,a]);var E=o.useCallback((function(e){s.current&&s.current===e.target&&u(null)}),[u,s]);return(0,r.jsx)("div",{ref:l,className:d().container,onClick:E,children:(0,r.jsx)("svg",{ref:s,width:p,height:y})})}var v=function(e){var n=e.svgDomEl,t=e.containerDomEl,r=e.width,o=e.height,a=e.krajeData,c=e.fillByKrajId,u=e.selectedKrajId,s=e.setSelectedKrajId,f=e.renderTooltipContent,d=l.Z(a,a.objects.tracts),p=i.Ys(n);p.selectAll("*").remove(),i.Ys(t).selectAll(".map-tooltip").remove();var h=i.mw4().fitSize([r,o],d),m=i.l49().projection(h),v=!0,b=!1,g=void 0;try{for(var k,E=d.features[Symbol.iterator]();!(v=(k=E.next()).done);v=!0){var w=k.value;w.id=parseInt(w.properties.KOD,10)}}catch(_){b=!0,g=_}finally{try{v||null==E.return||E.return()}finally{if(b)throw g}}p.selectAll(".kraj").data(d.features).enter().append("path").attr("d",m).attr("class",(function(e){return"kraj kraj-".concat(e.id)})).attr("fill",(function(e){return c[e.id]})).attr("opacity",(function(e){return u&&e.id!==u?.3:1})).attr("stroke","#000000").attr("stroke-width",(function(e){return e.id===u?2:.5})).on("click",(function(e,n){u!==n.id?s(n.id):s(null)})).on("mouseover",(function(e,n){null!==u&&n.id!==u&&e.currentTarget.setAttribute("opacity",1),y({containerDomEl:t}),j({referenceDomEl:e.currentTarget,containerDomEl:t,feature:n,renderTooltipContent:f})})).on("mouseout",(function(e,n){null!==u&&n.id!==u&&e.currentTarget.setAttribute("opacity",.3),y({containerDomEl:t}),u&&j({referenceDomEl:p.select(".kraj.kraj-".concat(u)).node(),containerDomEl:t,feature:d.features.find((function(e){return e.id===u})),renderTooltipContent:f})})),u&&(p.select(".kraj.kraj-".concat(u)).raise(),j({referenceDomEl:p.select(".kraj.kraj-".concat(u)).node(),containerDomEl:t,feature:d.features.find((function(e){return e.id===u})),renderTooltipContent:f}))},j=function(e){var n=e.referenceDomEl,t=e.containerDomEl,r=e.feature,o=e.renderTooltipContent,a=document.createElement("div");a.classList.add("map-tooltip"),a.classList.add("map-tooltip-okres-".concat(r.id)),a.innerHTML='\n    <div class="tooltip-arrow" data-popper-arrow></div>\n    <div class="tooltip-content"></div>\n    ',t.append(a),u.render(o(r.id,r),a.querySelector(".tooltip-content")),(0,s.fi)(n,a,{placement:"right",modifiers:[{name:"offset",options:{offset:[0,10]}},{name:"flip",options:{fallbackPlacements:["left"],boundary:t}}]})},y=function(e){var n=e.containerDomEl;i.Ys(n).selectAll(".map-tooltip").each((function(){this.remove()}))},b=t(2069),g=t(879),k=t(5750),E=t.n(k);function w(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function _(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function S(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,a=[],i=!0,c=!1;try{for(t=t.call(e);!(i=(r=t.next()).done)&&(a.push(r.value),!n||a.length!==n);i=!0);}catch(u){c=!0,o=u}finally{try{i||null==t.return||t.return()}finally{if(c)throw o}}return a}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return w(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return w(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var C=!0;function x(e){var n=e.baseUrl,t=(0,g.zw)(n),u=(0,g.W4)(n),l=(0,b.D)("paq-ukrajina-poradny").containerRef,s=S(o.useState(null),2),f=s[0],d=s[1],p=o.useMemo((function(){if(!u)return{};var e=i.ut0().domain([250,275,300,325,1e4]).range(["#FEF0D9","#C4D3C9","#79ABB0","#288893","#005B6E"]);return u.reduce((function(n,t){return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){_(e,n,t[n])}))}return e}({},n,_({},t.id,e(t.zlomek)))}),{})}),[u]),h=o.useMemo((function(){return(0,c.keyBy)(u,"id")}),[u]);return t&&u?(0,r.jsxs)("div",{className:E().container,children:[(0,r.jsx)(a.default,{children:(0,r.jsx)("title",{children:"Po\u010det p\u0159\xedpad\u016f na pedagogick\xe9ho pracovn\xedka poradny v\xa0kraj\xedch"})}),(0,r.jsxs)("main",{className:E().container,ref:l,children:[(0,r.jsx)("h1",{children:"Po\u010det p\u0159\xedpad\u016f na pedagogick\xe9ho pracovn\xedka poradny v\xa0kraj\xedch"}),(0,r.jsx)("div",{className:E().legend,children:[{label:"250 a m\xe9n\u011b",color:"#FEF0D9"},{label:"250\u2013275",color:"#C4D3C9"},{label:"275\u2013300",color:"#79ABB0"},{label:"300\u2013325",color:"#288893"},{label:"325 a v\xedce",color:"#005B6E"}].map((function(e){return(0,r.jsxs)("div",{className:"legend-item",children:[(0,r.jsx)("span",{className:"dot",style:{backgroundColor:e.color}}),e.label]},e.color)}))}),(0,r.jsx)("div",{className:E().mapWrapper,children:(0,r.jsx)(m,{krajeData:t,selectedKrajId:f,setSelectedKrajId:d,fillByKrajId:p,renderTooltipContent:function(e,n){return(0,r.jsxs)("div",{className:E().tooltipContent,children:[(0,r.jsx)("div",{className:"tooltip-orp",children:(0,r.jsx)("div",{className:"tooltip-orp-name",children:n.properties.NAZEV})}),(0,r.jsx)("div",{className:"main-value-line",children:(0,r.jsxs)("strong",{children:[Math.round(h[e].zlomek)," p\u0159\xedpad\u016f na jednoho pedagogick\xe9ho pracovn\xedka poradny"]})}),(0,r.jsxs)("div",{className:"value-line",children:[h[e].pripadu.toLocaleString("cs-CZ")," ","p\u0159\xedpad\u016f celkem"]}),(0,r.jsxs)("div",{className:"value-line",children:[h[e].pedagogu.toLocaleString("cs-CZ")," ","\xfavazk\u016f pedagogick\xfdch pracovn\xedk\u016f poraden"]})]})}})}),(0,r.jsx)("div",{className:E().footer,children:(0,r.jsxs)("div",{className:"footer-item",children:["Zdroj dat:"," ",(0,r.jsx)("a",{href:"https://www.paqresearch.cz/",target:"_blank",rel:"noreferrer",children:"PAQ\xa0Research"}),","," ",(0,r.jsx)("a",{href:"https://geoportal.cuzk.cz/Default.aspx?lng=CZ&mode=TextMeta&side=dsady_RUIAN_vse&metadataID=CZ-00025712-CUZK_SERIES-MD_RUIAN-STATY-SHP",target:"_blank",rel:"noreferrer",children:"\u010c\xdaZK (CC-BY)"})]})})]})]}):null}},4490:function(e){e.exports={container:"EmbedKrajeMap_container__nV49F"}},5750:function(e){e.exports={container:"Embed_container__SJCYq",legend:"Embed_legend__Lmhlg",mapWrapper:"Embed_mapWrapper__OWFyK",footer:"Embed_footer__5kevP",tooltipContent:"Embed_tooltipContent__oG_2P"}}},function(e){e.O(0,[662,780,774,888,179],(function(){return n=9556,e(e.s=n);var n}));var n=e.O();_N_E=n}]);